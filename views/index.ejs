<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width" />

    <title>Document</title>
    <link rel="stylesheet" href="css/reset.css" type="text/css">
    <link rel="stylesheet" href="css/main.css" type="text/css">
    <script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>
  <script type="text/javascript" src="https://pym.nprapps.org/pym.v1.min.js"></script>


</head>
<body>
    <div id="pym">
    <div style="margin:1.5em;" class="center-wrap">
            <h1>Number of students per nurse in North Carolina school districts</h1>
    </div>
    
        
    <div class="container center-wrap">
            
        
        <div style="display:block;" class="label--wrapper"></div>
        <div class="wrapper">
                <div id="chart" class="chart">
                        <!-- <span class="chart__title">Development</span> -->
                        <p style="font-size:.8em;position:absolute;top:-20px;color:#c28132;">Recommended ratio of nurses to students (1:750)</p>
                        
                        <ul style="width:70%;" class="chart--horiz">
                            
                                <li style="
                                border-left: 2px solid #c28132;
                                z-index: 9000000;
                                height: 4020px;
                                left: 23%;
                                position: absolute;
                            "></li>
                        </ul>
                    
        </div>

                    
           
        </div>
    </div><!--/.container-->

    <style>
            /* ---------------------------------------------- /*
             * Mouse animate icon
            /* ---------------------------------------------- */
            .mouse-icon {
              border: 2px solid #000;
              border-radius: 16px;
              height: 40px;
              width: 24px;
              display: block;
              z-index: 10;
              opacity: 0.7;
            }
            .mouse-icon .wheel {
              -webkit-animation-name: drop;
              -webkit-animation-duration: 1s;
              -webkit-animation-timing-function: linear;
              -webkit-animation-delay: 0s;
              -webkit-animation-iteration-count: infinite;
              -webkit-animation-play-state: running;
              -webkit-animation-name: drop;
                      animation-name: drop;
              -webkit-animation-duration: 1s;
                      animation-duration: 1s;
              -webkit-animation-timing-function: linear;
                      animation-timing-function: linear;
              -webkit-animation-delay: 0s;
                      animation-delay: 0s;
              -webkit-animation-iteration-count: infinite;
                      animation-iteration-count: infinite;
              -webkit-animation-play-state: running;
                      animation-play-state: running;
            }
            .mouse-icon .wheel {
              position: relative;
              border-radius: 10px;
              background: #000;
              width: 2px;
              height: 6px;
              top: 4px;
              margin-left: auto;
              margin-right: auto;
            }
            @-webkit-keyframes drop {
              0% {
                top: 5px;
                opacity: 0;
              }
              30% {
                top: 10px;
                opacity: 1;
              }
              100% {
                top: 25px;
                opacity: 0;
              }
            }
            @keyframes drop {
              0% {
                top: 5px;
                opacity: 0;
              }
              30% {
                top: 10px;
                opacity: 1;
              }
              100% {
                top: 25px;
                opacity: 0;
              }
            }
            </style>
            
            <div class="center-wrap" style="margin-top:15px;"><div class="mouse-icon"><div class="wheel"></div></div> </div>
            <div class="center-wrap" style="margin-top:10px;"><p>Scroll for full chart</p></div>
            
        </div><!--/#pym-->

      <script src="js/data.js" type="text/javascript"></script>
      <script src="js/data_az.js" type="text/javascript"></script>

      <script>
      $(document).ready(function(){

        //pym stuff
        var pymChild = new pym.Child();


        for (i in DATA){
            var ele = DATA[i];
           // console.log(ele.lea)
            if (ele.dist_750 < 0){
                //console.log("students per nurse: " + ele.students_per_nurse)
                var width = (ele.students_per_nurse/2250)*100;
                //console.log("width: " + width)
                var marg_left = 33 - width;
                //console.log("marg left: " + marg_left)
                var label_left = 13;
            } else {
                //console.log("students per nurse: " + ele.students_per_nurse)
                var width = (ele.students_per_nurse/2250)*100;
                //console.log("width: " + width)
                var marg_left = 33;
                //console.log("marg left: " + marg_left)
                var label_left = 30;
            }

            $('.label--wrapper').append('<span class="chart__label">' + ele.lea + '</span>')
            
            $('.chart--horiz').append('<div class="chart__bar-wrapper"><li class="chart__bar" style="width:' + width + '%;margin-left:' + marg_left + '%;list-style-type:none;"></li><span class="bar-inner-label" style="top:' + (6+35*i) + 'px;left:' + label_left + '%">' + ele.students_per_nurse + '</span></div>')

       
        }
      })
      </script>
      
</body>
</html>